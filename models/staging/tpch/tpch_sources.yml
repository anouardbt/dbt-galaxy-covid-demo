version: 2

sources:
  - name: tpch
    description: Sample TPCH data
    loader: sample
    catalog: tpch
    schema: tiny  # update this to try a bigger dataset: sf100, sf1000...
    tables:
      - name: nation
        columns:
          - name: nation_key
            description: 25 nations are populated
            tests:
              - unique:
                  severity: warn
              - not_null:
                  severity: warn
          - name: name
          - name: region_key
            description: Foreign Key to REGIONKEY
            tests:
              - relationships:
                  to: source('tpch', 'region')
                  field: region_key
          - name: comment

      - name: region
        columns:
          - name: region_key
            description: 5 regions are populated
            tests:
              - unique:
                  severity: warn
              - not_null:
                  severity: warn
          - name: name
          - name: comment
